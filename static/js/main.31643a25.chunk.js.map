{"version":3,"sources":["components/ImageGalleryItem/imageGalleryItem.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/api.js","App.js","reportWebVitals.js","index.js","components/Searchbar/searchForm.module.css","components/Modal/modal.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","event","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","handleBigImg","name","split","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","handleImg","items","map","el","id","Button","Modal","onCloseModal","code","nodeName","closeModal","window","addEventListener","removeEventListener","Overlay","largeImg","Img","axios","defaults","baseURL","params","key","image_type","orientation","per_page","getImages","a","q","page","get","data","hits","console","log","error","App","searchQuery","loading","found","fetchImages","then","length","prevState","catch","finally","scrollHeight","document","documentElement","scrollTo","top","behavior","handleSearchFormSubmit","query","body","classList","add","remove","prevProps","scrollTop","clientHeight","style","textAlign","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.31643a25.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__2gT3P\",\"ImageGalleryItem-image\":\"imageGalleryItem_ImageGalleryItem-image__33spA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__xgRfc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__1v1Ie\"};","import React, { Component } from 'react';\r\nimport styles from './searchForm.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ inputValue: event.target.value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import styles from './imageGalleryItem.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags,\r\n  handleBigImg,\r\n}) => {\r\n  const name = tags.split(',')[0];\r\n  return (\r\n    <li\r\n      className={styles.ImageGalleryItem}\r\n      onClick={() => handleBigImg(largeImageURL)}\r\n    >\r\n      <img\r\n        src={webformatURL}\r\n        alt={name}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  handleBigImg: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './imageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, handleImg }) => {\r\n  const items = images.map(el => (\r\n    <ImageGalleryItem\r\n      key={el.id}\r\n      webformatURL={el.webformatURL}\r\n      largeImageURL={el.largeImageURL}\r\n      tags={el.tags}\r\n      handleBigImg={handleImg}\r\n    />\r\n  ));\r\n  return <ul className={styles.ImageGallery}>{items}</ul>;\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  handleImg: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import styles from './button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button onClick={onClick} className={styles.Button} type=\"button\">\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport styles from './modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    largeImg: PropTypes.string.isRequired,\r\n    closeModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onCloseModal);\r\n    window.addEventListener('click', this.onCloseModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onCloseModal);\r\n    window.removeEventListener('click', this.onCloseModal);\r\n  }\r\n\r\n  onCloseModal = event => {\r\n    if (event.code === 'Escape' || event.target.nodeName !== 'IMG') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.largeImg} alt=\"\" className={styles.Img} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '20448732-c2abd7c565e4d9afcf8e6024e';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\naxios.defaults.params = {\r\n  key: API_KEY,\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  per_page: 12,\r\n};\r\n\r\nconst getImages = async ({ q, page }) => {\r\n  try {\r\n    const { data } = await axios.get('', {\r\n      params: { q, page },\r\n    });\r\n\r\n    return data.hits;\r\n  } catch (error) {\r\n    console.log('error', { error });\r\n    return {};\r\n  }\r\n};\r\n\r\nexport default { getImages };\r\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal';\n\nimport './App.css';\nimport getImages from './services/api';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    images: [],\n    page: 1,\n    largeImg: '',\n    error: null,\n    loading: false,\n    found: true,\n  };\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.page > 2) {\n      const { scrollTop, clientHeight } = document.documentElement;\n      window.scrollTo({\n        top: scrollTop + clientHeight - 165,\n        behavior: 'smooth',\n      });\n    }\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n    getImages\n      .getImages(searchQuery, page)\n      .then(images => {\n        if (images.length === 0) {\n          this.setState({ found: false });\n        } else {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images],\n            page: prevState.page + 1,\n            found: true,\n          }));\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n    if (page > 1) {\n      const { scrollHeight } = document.documentElement;\n      window.scrollTo({\n        top: scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  };\n  handleSearchFormSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: [],\n    });\n  };\n\n  handleBigImg = largeImg => {\n    this.setState({ largeImg });\n    document.body.classList.add('modal-isOpen');\n  };\n\n  closeModal = () => {\n    this.setState({\n      largeImg: '',\n    });\n    document.body.classList.remove('modal-isOpen');\n  };\n  render() {\n    const { images, loading, error, found, largeImg } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\n        {(error || !found) && !images.length && (\n          <h2 style={{ textAlign: 'center' }}>\n            Oops, something went wrong. Enter a correct query\n          </h2>\n        )}\n        <ImageGallery images={images} handleBigImg={this.handleBigImg} />\n        {loading && <Loader />}\n        {images.length > 0 && !loading && found && (\n          <Button onClick={this.fetchImages} />\n        )}\n        {largeImg && <Modal largeImg={largeImg} closeModal={this.closeModal} />}\n      </>\n    );\n  }\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchForm_Searchbar__1cIMf\",\"SearchForm\":\"searchForm_SearchForm__18qH5\",\"SearchForm-button\":\"searchForm_SearchForm-button__rRjon\",\"SearchForm-button-label\":\"searchForm_SearchForm-button-label__2EjWl\",\"SearchForm-input\":\"searchForm_SearchForm-input__3oYBb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1lRjK\",\"Modal\":\"modal_Modal__2K3lN\"};"],"sourceRoot":""}